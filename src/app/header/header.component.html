<nav class="navbar navbar-expand-lg navbar-dark bg-primary p-3 custom-navbar">
  <div class="container-fluid">
    <a
      (click)="collapseNavbar()"
      class="navbar-brand fw-bold text-3d"
      routerLink="/"
      >Asad-Shop</a
    >

    <!-- Toggle button for mobile view -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div #navbarNav class="navbar-collapse collapse" id="navbarNav">
      <!-- Search bar visible for 'default' and 'user' menu types -->
      <form
        *ngIf="menuType !== 'seller'"
        class="d-flex mx-auto my-2 my-lg-0 search-form w-100"
      >
        <input
          #searchInput
          class="form-control me-2"
          type="search"
          (keyup)="searchProducts($event)"
          (blur)="hideSearch()"
          placeholder="Search Products"
          aria-label="Search"
        />

        <button
          (click)="submitSearch(searchInput.value)"
          class="btn btn-outline-light"
          type="submit"
          [disabled]="!searchInput.value.trim()"
        >
          Search
        </button>
        <ul class="suggested-result" *ngIf="searchResult">
          <li *ngFor="let item of searchResult">
            <a
              (click)="collapseNavbar()"
              (mousedown)="redirectToDetails(item.id)"
              >{{ item.name }}</a
            >
          </li>
        </ul>
      </form>

      <!-- Navigation links -->
      <div [ngSwitch]="menuType">
        <!-- Default Navbar Navlinks -->
        <ul
          [ngClass]="{ 'seller-navbar-nav': menuType === 'seller' }"
          *ngSwitchCase="'default'"
          class="navbar-nav ms-auto mb-2 mb-lg-0 justify-content-center w-100"
        >
          <!-- <li class="nav-item text-center">
            <a
              routerLink=""
              class="nav-link custom-nav-link"
              aria-current="page"
              (click)="collapseNavbar()"
              >Home</a
            >
          </li> -->
          <li class="nav-item text-center">
            <a
              routerLink="seller-auth"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >Seller</a
            >
          </li>
          <li class="nav-item text-center">
            <a
              routerLink="user-auth"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >Login/Sign Up</a
            >
          </li>
          <li class="nav-item text-center">
            <a
              routerLink="login-first"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >Cart({{ cartItems }})</a
            >
          </li>
        </ul>

        <!-- User Navbar Navlinks -->
        <ul
          [ngClass]="{ 'seller-navbar-nav': menuType === 'seller' }"
          *ngSwitchCase="'user'"
          class="navbar-nav ms-auto mb-2 mb-lg-0 justify-content-center w-100"
        >
          <!-- <li class="nav-item text-center">
            <a
              routerLink=""
              class="nav-link custom-nav-link"
              aria-current="page"
              (click)="collapseNavbar()"
              >Home</a
            >
          </li> -->
          <li class="nav-item text-center">
            <a
              routerLink="seller-auth"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >Seller</a
            >
          </li>
          <li class="nav-item text-center">
            <a
              routerLink="my-orders"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >My Orders</a
            >
          </li>

          <li class="nav-item text-center">
            <a class="nav-link custom-nav-link pointer" (click)="userLogout()"
              >Logout</a
            >
          </li>
          <li class="nav-item text-center">
            <a
              routerLink="cart-page"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >Cart({{ cartItems }})</a
            >
          </li>
          <li class="nav-item text-center">
            <a class="nav-link egg-shaped">{{ userName | titlecase }}</a>
          </li>
        </ul>

        <!-- Seller Navbar Navlinks -->
        <ul
          [ngClass]="{ 'seller-navbar-nav': menuType === 'seller' }"
          *ngSwitchCase="'seller'"
          class="navbar-nav ms-auto mb-2 mb-lg-0 justify-content-center w-100"
        >
          <li class="nav-item text-center">
            <a
              routerLink="seller-add-product"
              class="nav-link custom-nav-link"
              (click)="collapseNavbar()"
              >Add Product</a
            >
          </li>
          <li class="nav-item text-center">
            <a
              routerLink="seller-home"
              class="nav-link custom-nav-link"
              aria-current="page"
              (click)="collapseNavbar()"
              >Product List</a
            >
          </li>
          <li class="nav-item text-center">
            <a (click)="logout()" class="nav-link custom-nav-link pointer"
              >Logout</a
            >
          </li>
          <li class="nav-item text-center">
            <a class="nav-link egg-shaped">{{ sellerName | titlecase }}</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
